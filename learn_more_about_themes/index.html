<!DOCTYPE html>
<html lang="en">
<head>
    <title>
     Wikismith - Streaming Static Site Generator for fans of Gulp and Bower
    </title>

    <script type="text/javascript" src="//cdn.sublimevideo.net/js/sgscg0y1.js"></script>

    <meta name="viewport" content="width=device-width">

    <link href="http://fonts.googleapis.com/css?family=Roboto+Slab" rel='stylesheet' type='text/css'>
    <link href="http://fonts.googleapis.com/css?family=Roboto" rel='stylesheet' type='text/css'>

    <!-- bower:css -->
    <link rel="stylesheet" href="/wsmith/bower/css/bootstrap.css">
    <link rel="stylesheet" href="/wsmith/bower/css/index.css">
    <!-- endinject -->

    <!-- inject:css -->
    <link rel="stylesheet" href="/wsmith/css/blog.css">
    <link rel="stylesheet" href="/wsmith/css/docs.min.css">
    <link rel="stylesheet" href="/wsmith/css/github.css">
    <link rel="stylesheet" href="/wsmith/css/pulltab.css">
    <link rel="stylesheet" href="/wsmith/css/wsmith.css">
    <link rel="stylesheet" href="/wsmith/css/ribbon.css">
    <!-- endinject -->



    <!--[if lt IE 9]><script src="../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="../assets/js/ie10-viewport-bug-workaround.js"></script>
    <script src="../assets/js/ie-emulation-modes-warning.js"></script>

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Favicons -->
    <link rel="apple-touch-icon-precomposed" href="/apple-touch-icon-precomposed.png">
    <link rel="icon" href="/favicon.ico">


</head>
<body>
<h2 class="crp-CornerRibbon"><a class="ribbon" style="color: white;" href="https://github.com/wikismith/site/edit/master/pages/learn_more_about_themes/index.md"> Edit Me </a></h2>

<a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

<!-- Docs master nav -->
<header class="navbar navbar-static-top bs-docs-nav" id="top" role="banner">
    <div class="container">
        <div class="navbar-header">

            <img src="/wsmith/img/wikismith_200px.png">

            <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".bs-navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            
            <a href="/" class="navbar-brand">WIKISMITH</a>
        </div>
        <nav class="collapse navbar-collapse bs-navbar-collapse" role="navigation">

            <ul class="nav navbar-nav">
                <li>
                    <a href="/blog/index.html">Blog</a>
                </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li><a href="/about">About</a></li>
            </ul>
            -->
        </nav>
    </div>
</header>



<!-- Docs page layout -->
<div class="bs-docs-header" id="content">

    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <h1 class="undefined">Learn More About Themes</h1>
                <p class="undefined"></p>
                
            </div>
        </div>
    </div>

</div>


<div class="container bs-docs-container">

<div class="row">
<div class="col-md-9" role="main">
<!-- h1 --><h1 class="page-header" id="md-theme-overview">Theme Overview</h1><p>Wikismith themes provide both the front-end build process and markdown rendering.  The build process
and rendering are respectively framework and templating language agnostic.</p>
<!-- h1 --><h1 class="page-header" id="md-theme-components">Theme Components</h1><ul>
<li><p>package.json - Specifying theme&#39;s build dependencies</p>
</li>
<li><p>bower.js - Specifying theme&#39;s front-end dependencies</p>
</li>
<li><p>gulpfile.js - Build theme&#39;s assets and such</p>
</li>
<li><p>index.js - Convert page markdown into HTML</p>
</li>
</ul>
<!-- h2 --><h2 id="md-package-json">Package.json</h2><p>The theme&#39;s package.json has the dependencies needed for the themes Gulfile.js and index.js.</p>
<!-- h4 --><h4 id="md-example">Example</h4><pre><code class="lang-json">{
  "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"wikismith-theme-custom"</span></span>,
  "<span class="hljs-attribute">version</span>": <span class="hljs-value"><span class="hljs-string">"0.0.3"</span></span>,
  "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"Custom wikismith theme."</span></span>,
  "<span class="hljs-attribute">main</span>": <span class="hljs-value"><span class="hljs-string">"index.js"</span></span>,
  "<span class="hljs-attribute">author</span>": <span class="hljs-value"><span class="hljs-string">"Jeffrey Hicks"</span></span>,
  "<span class="hljs-attribute">license</span>": <span class="hljs-value"><span class="hljs-string">"MIT"</span></span>,
  "<span class="hljs-attribute">dependencies</span>": <span class="hljs-value">{
    "<span class="hljs-attribute">ejs</span>": <span class="hljs-value"><span class="hljs-string">"^1.0.0"</span></span>,
    "<span class="hljs-attribute">event-stream</span>": <span class="hljs-value"><span class="hljs-string">"^3.1.7"</span></span>,
    "<span class="hljs-attribute">gulp-inject</span>": <span class="hljs-value"><span class="hljs-string">"^1.0.0"</span></span>,
    "<span class="hljs-attribute">gulp-util</span>": <span class="hljs-value"><span class="hljs-string">"^3.0.0"</span></span>,
    "<span class="hljs-attribute">highlight.js</span>": <span class="hljs-value"><span class="hljs-string">"^8.1.0"</span></span>,
    "<span class="hljs-attribute">marked</span>": <span class="hljs-value"><span class="hljs-string">"^0.3.2"</span></span>,
    "<span class="hljs-attribute">wiredep</span>": <span class="hljs-value"><span class="hljs-string">"^1.8.2"</span></span>,
    "<span class="hljs-attribute">xregexp</span>": <span class="hljs-value"><span class="hljs-string">"^2.0.0"</span>
  </span>}
</span>}
</code></pre>
<!-- h2 --><h2 id="md-bower-json">Bower.json</h2><p>This example bower.json simply specifies bootstrap as a dependency.</p>
<!-- h4 --><h4 id="md-example">Example</h4><pre><code class="lang-json">{
  "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"Wikismith-theme-custom"</span></span>,
  "<span class="hljs-attribute">version</span>": <span class="hljs-value"><span class="hljs-string">"0.0.1"</span></span>,
  "<span class="hljs-attribute">authors</span>": <span class="hljs-value">[
    <span class="hljs-string">"jrhicks@gmail.com"</span>
  ]</span>,
  "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"Theme"</span></span>,
  "<span class="hljs-attribute">moduleType</span>": <span class="hljs-value">[
    <span class="hljs-string">"node"</span>
  ]</span>,
  "<span class="hljs-attribute">license</span>": <span class="hljs-value"><span class="hljs-string">"MIT"</span></span>,
  "<span class="hljs-attribute">homepage</span>": <span class="hljs-value"><span class="hljs-string">"wikismith.com"</span></span>,
  "<span class="hljs-attribute">private</span>": <span class="hljs-value"><span class="hljs-literal">true</span></span>,
  "<span class="hljs-attribute">dependencies</span>": <span class="hljs-value">{
    "<span class="hljs-attribute">bootstrap</span>": <span class="hljs-value"><span class="hljs-string">"~3.2.0"</span>
  </span>}
</span>}
</code></pre>
<!-- h2 --><h2 id="md-gulpfile-js">Gulpfile.js</h2><p>A theme gulpfile is very similar to any project&#39;s gulpfile except for 2 differences that allow the
theme&#39;s build task to be called from the project&#39;s build.</p>
<ol>
<li><p>It exports a build method</p>
</li>
<li><p>It assumes the cwd is <strong>not</strong> its directory</p>
</li>
</ol>
<p>This example Gulpfile.js collects the application and bower assets, moves them to their
 destination and links them into template.html with inject.</p>
<!-- h4 --><h4 id="md-example">Example</h4><pre><code class="lang-javascript"><span class="hljs-keyword">var</span> gulp = <span class="hljs-built_in">require</span>(<span class="hljs-string">'gulp'</span>);
<span class="hljs-keyword">var</span> gutil = <span class="hljs-built_in">require</span>(<span class="hljs-string">'gulp-util'</span>);
<span class="hljs-keyword">var</span> inject = <span class="hljs-built_in">require</span>(<span class="hljs-string">"gulp-inject"</span>);
<span class="hljs-keyword">var</span> es = <span class="hljs-built_in">require</span>(<span class="hljs-string">'event-stream'</span>);
<span class="hljs-keyword">var</span> wiredep = <span class="hljs-built_in">require</span>(<span class="hljs-string">'wiredep'</span>);
<span class="hljs-keyword">var</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">'path'</span>);
<span class="hljs-keyword">var</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">"fs"</span>);

gulp.task(<span class="hljs-string">'default'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(cb)</span> </span>{
    build(cb);
});

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">build</span><span class="hljs-params">(cb)</span> </span>{
    <span class="hljs-keyword">var</span> fsrc = __dirname;
    <span class="hljs-keyword">var</span> fdst = path.join(process.cwd(), <span class="hljs-string">'build'</span>, <span class="hljs-string">'wsmith'</span>);
    <span class="hljs-keyword">var</span> bower_options = {
        directory:  path.join(fsrc, <span class="hljs-string">'bower_components'</span>),
        bowerJson:  <span class="hljs-built_in">require</span>(path.join(fsrc, <span class="hljs-string">'bower.json'</span>))
    }
    <span class="hljs-keyword">var</span> bower_js = wiredep(bower_options).js || <span class="hljs-string">'undefined'</span>;
    <span class="hljs-keyword">var</span> bower_css = wiredep(bower_options).css || <span class="hljs-string">'undefined'</span>;
    <span class="hljs-keyword">var</span> bower_assets = es.merge(
        gulp.src(bower_js).pipe(gulp.dest(path.join(fdst,<span class="hljs-string">'bower'</span>,<span class="hljs-string">'js'</span>))),
        gulp.src(bower_css).pipe(gulp.dest(path.join(fdst,<span class="hljs-string">'bower'</span>,<span class="hljs-string">'css'</span>)))
    );
    <span class="hljs-keyword">var</span> app_assets = es.merge(
        gulp.src([fsrc+<span class="hljs-string">'/js/**/*.js'</span>]).pipe(gulp.dest(path.join(fdst,<span class="hljs-string">'js'</span>))),
        gulp.src([fsrc+<span class="hljs-string">'/css/**/*.css'</span>]).pipe(gulp.dest(path.join(fdst,<span class="hljs-string">'css'</span>)))
    );
    <span class="hljs-keyword">var</span> s1 = gulp.src(path.join(__dirname, <span class="hljs-string">'template.html'</span>))
        .pipe(inject(es.merge(bower_assets),
            {
                ignorePath: <span class="hljs-string">'/build/'</span>,
                starttag: <span class="hljs-string">'&lt;!-- bower:{{ext}} --&gt;'</span>
            }))
        .pipe(inject(es.merge(app_assets),
            {
                ignorePath: <span class="hljs-string">'/build/'</span>
            }))
        .pipe(gulp.dest(path.join(__dirname)))

    <span class="hljs-keyword">var</span> s2 = gulp.src(path.join(__dirname,<span class="hljs-string">'img'</span>,<span class="hljs-string">'**'</span>,<span class="hljs-string">'*'</span>))
        .pipe(gulp.dest(path.join(fdst,<span class="hljs-string">'img'</span>)))

    es.merge(s1,s2)
        .on(<span class="hljs-string">'end'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
            cb()
        });
}

<span class="hljs-built_in">module</span>.exports = build;
</code></pre>
<!-- h2 --><h2 id="md-index-js">Index.js</h2><p>The index.js exports a function that can receive a file object and
return a string representing the HTML of the final rendered page.</p>
<p>This example index.js customizes the markdown output for bootstrap,
performs a neat transformation causing h3 blocks to column up in row.
It also parses the markdown to give data to the EJS template to
assist with creating an index.</p>
<!-- h4 --><h4 id="md-example">Example</h4><pre><code class="lang-javascript"><span class="hljs-keyword">var</span> marked = <span class="hljs-built_in">require</span>(<span class="hljs-string">'marked'</span>);
<span class="hljs-keyword">var</span> highlight = <span class="hljs-built_in">require</span>(<span class="hljs-string">'highlight.js'</span>);
<span class="hljs-keyword">var</span> ejs = <span class="hljs-built_in">require</span>(<span class="hljs-string">'ejs'</span>);
<span class="hljs-keyword">var</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">'path'</span>);
<span class="hljs-keyword">var</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">"fs"</span>);

<span class="hljs-keyword">var</span> renderer = <span class="hljs-keyword">new</span> marked.Renderer();

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">customizeMarked</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-comment">// omitted for brevity</span>
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">rowify_h3s</span><span class="hljs-params">(html)</span> </span>{
    <span class="hljs-comment">// omitted for brevity</span>
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">render</span><span class="hljs-params">(file)</span> </span>{
    <span class="hljs-keyword">var</span> template = <span class="hljs-built_in">String</span>(fs.readFileSync(path.join(__dirname, <span class="hljs-string">'template.html'</span>)));

    <span class="hljs-keyword">var</span> h = marked(file.body);;
    <span class="hljs-keyword">var</span> h2 = rowify_h3s(h);

    <span class="hljs-keyword">return</span> ejs.render(template, {
        params: file.params,
        content: h2,
        ast: marked.lexer(file.body)
    });
}

customizeMarked()
<span class="hljs-built_in">module</span>.exports = render;
</code></pre>
<!-- end -->
</div>

<div class="col-md-3">
    <div class="bs-docs-sidebar hidden-print hidden-xs hidden-sm" role="complementary">
        <ul class="nav bs-docs-sidenav">
            
            
            
            <li><a href="#md-theme-overview">Theme Overview</a></li>
            
            
            
            
            
            <li><a href="#md-theme-components">Theme Components</a></li>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <li><a href="#md-package-json">Package.json</a></li>
            
            
            
            
            
            
            
            
            
            <li><a href="#md-bower-json">Bower.json</a></li>
            
            
            
            
            
            
            
            
            
            <li><a href="#md-gulpfile-js">Gulpfile.js</a></li>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <li><a href="#md-index-js">Index.js</a></li>
            
            
            
            
            
            
            
            
            
            
            
        </ul>

        <div style="margin-left: 1.5em;">
            <h4>On Github</h4>
            <iframe src="http://ghbtns.com/github-btn.html?user=wikismith&repo=wikismith&type=watch&count=false&size=large"
                    allowtransparency="true" frameborder="0" scrolling="0" width="170" height="30"></iframe>

        </div>

    </div>
</div>
</div>
</div>

<!-- Footer
================================================== -->
<footer class="bs-docs-footer" role="contentinfo">
    <div class="container">
        <p> Generated With Wikismith <iframe src="http://ghbtns.com/github-btn.html?user=wikismith&repo=wikismith&type=watch&count=true"
                             allowtransparency="true" frameborder="0" scrolling="0" width="110" height="20"></iframe>
        </p>
        <br>
        <p>Bootstrap Code licensed under <a href="https://github.com/twbs/bootstrap/blob/master/LICENSE" target="_blank">MIT</a></p>
        <p>Wikismith Logo and Desk art has a restricted license.</p>
    </div>
</footer>

<!-- bower:js -->
<script src="/wsmith/bower/js/jquery.js"></script>
<script src="/wsmith/bower/js/bootstrap.js"></script>
<!-- endinject -->

<!-- inject:js -->
<script src="/wsmith/js/docs.min.js"></script>
<script src="/wsmith/js/pulltab.js"></script>
<!-- endinject -->

<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-53439609-1', 'auto');
    ga('send', 'pageview');

</script>

</body>
</html>
